<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CAD System</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0; padding: 0;
        background-color: #1e1e1e;
        color: white;
    }
    .top-right {
        position: fixed;
        top: 10px;
        right: 10px;
    }
    button {
        padding: 8px 14px;
        margin: 4px;
        border: none;
        cursor: pointer;
        background: #444;
        color: white;
        border-radius: 6px;
    }
    button:hover { background: #666; }
    .center {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 90vh;
        text-align: center;
    }
    input {
        padding: 6px;
        margin: 4px;
        border: none;
        border-radius: 4px;
    }
    .sidebar {
        position: fixed;
        top: 0; left: 0;
        width: 180px;
        height: 100%;
        background: #2c2c2c;
        display: flex;
        flex-direction: column;
        padding-top: 20px;
    }
    .sidebar button {
        background: none;
        border: none;
        color: white;
        padding: 12px;
        text-align: left;
        font-size: 14px;
    }
    .sidebar button:hover {
        background: #3c3c3c;
    }
    .popup {
        position: fixed;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        background: #333;
        padding: 20px;
        border-radius: 8px;
        z-index: 1000;
        display: none;
    }
    .popup input[type="text"], .popup input[type="email"] {
        width: 100%;
    }
    .overlay {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.6);
        z-index: 999;
    }
</style>
</head>
<body>

<div id="mainScreen" class="top-right">
    <button onclick="showLogin()">Login</button>
    <button onclick="alert('Team page coming soon')">Team</button>
</div>

<div id="loginScreen" class="center" style="display:none;">
    <h2>Login</h2>
    <input id="loginUser" type="text" placeholder="Username"><br>
    <input id="loginPass" type="password" placeholder="Password"><br>
    <button onclick="login()">Login</button><br>
    <small style="cursor:pointer;color:lightblue;" onclick="showCreateAccount()">Create Account</small>
</div>

<div id="createAccountScreen" class="center" style="display:none;">
    <h2>Create Account</h2>
    <input id="newUser" type="text" placeholder="Username"><br>
    <input id="newPass" type="password" placeholder="Password"><br>
    <button onclick="createAccount()">Create</button>
</div>

<div id="afterLoginScreen" class="center" style="display:none;">
    <button onclick="alert('CAD Area Screen')">Cad Area</button>
    <p style="cursor:pointer;color:lightblue;" onclick="showSupportTeam()">Go to âž¡ Support team Area</p>
</div>

<div id="supportTeamScreen" style="display:none;">
    <div class="sidebar">
        <button>Servers</button>
        <button onclick="showUserAdmins()">User Admins</button>
        <button>Website Logs</button>
    </div>
</div>

<div id="userAdminsMenu" class="popup">
    <h3>User Admins</h3>
    <button onclick="showCreateAdmin()">Create Admin</button>
    <ul id="adminsList"></ul>
    <br>
    <button onclick="saveAdmins()">Save</button>
    <button onclick="closePopup()">Close</button>
</div>

<div id="createAdminMenu" class="popup">
    <h3>Create Admin</h3>
    <input id="discordUser" type="text" placeholder="Discord Username"><br>
    <input id="adminUser" type="text" placeholder="Username"><br>
    <input id="adminEmail" type="email" placeholder="Email"><br>
    <hr>
    <label><input type="checkbox" id="chkServers"> Servers</label><br>
    <label><input type="checkbox" id="chkLogs"> Website Logs</label><br><br>
    <button onclick="createAdmin()">Create</button>
</div>

<div id="overlay" class="overlay" onclick="closePopup()"></div>

<script>
    let accounts = JSON.parse(localStorage.getItem('accounts')) || [{username:"RYAN",password:"RYAN"}];
    let admins = JSON.parse(localStorage.getItem('admins')) || [];

    function showLogin(){
        document.getElementById("mainScreen").style.display="none";
        document.getElementById("loginScreen").style.display="flex";
    }
    function showCreateAccount(){
        document.getElementById("loginScreen").style.display="none";
        document.getElementById("createAccountScreen").style.display="flex";
    }
    function createAccount(){
        let u = document.getElementById("newUser").value;
        let p = document.getElementById("newPass").value;
        if(u && p){
            accounts.push({username:u,password:p});
            localStorage.setItem('accounts', JSON.stringify(accounts));
            alert("Account created!");
            document.getElementById("createAccountScreen").style.display="none";
            document.getElementById("loginScreen").style.display="flex";
        }
    }
    function login(){
        let u = document.getElementById("loginUser").value;
        let p = document.getElementById("loginPass").value;
        if(accounts.find(a=>a.username===u && a.password===p)){
            document.getElementById("loginScreen").style.display="none";
            document.getElementById("afterLoginScreen").style.display="flex";
        } else {
            alert("Invalid credentials");
        }
    }
    function showSupportTeam(){
        document.getElementById("afterLoginScreen").style.display="none";
        document.getElementById("supportTeamScreen").style.display="block";
    }
    function showUserAdmins(){
        document.getElementById("overlay").style.display="block";
        document.getElementById("userAdminsMenu").style.display="block";
        renderAdmins();
    }
    function showCreateAdmin(){
        document.getElementById("userAdminsMenu").style.display="none";
        document.getElementById("createAdminMenu").style.display="block";
    }
    function createAdmin(){
        let d = document.getElementById("discordUser").value;
        let u = document.getElementById("adminUser").value;
        let e = document.getElementById("adminEmail").value;
        let s = document.getElementById("chkServers").checked;
        let l = document.getElementById("chkLogs").checked;
        admins.push({discord:d,username:u,email:e,servers:s,logs:l});
        renderAdmins();
        document.getElementById("createAdminMenu").style.display="none";
        document.getElementById("userAdminsMenu").style.display="block";
    }
    function renderAdmins(){
        let list = document.getElementById("adminsList");
        list.innerHTML = "";
        admins.forEach(a=>{
            let li = document.createElement("li");
            li.textContent = `${a.username} (${a.discord}) - ${a.email}`;
            list.appendChild(li);
        });
    }
    function saveAdmins(){
        localStorage.setItem('admins', JSON.stringify(admins));
        alert("Admins saved!");
    }
    function closePopup(){
        document.getElementById("overlay").style.display="none";
        document.querySelectorAll(".popup").forEach(p=>p.style.display="none");
    }
</script>
</body>
</html>
